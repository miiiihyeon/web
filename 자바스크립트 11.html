스코프

- 스코프는 참조 대상 식별자를 찾아내기 위한 규칙. 
 
1. 스코프의 구분
 전역스코프,전역 변수: 코드 어디서든 참조 가능
 지역 스코프, 지역 변수 : 함수 코드 블록이 만든 스코프로 함수 자신과 하위함수에만 참조
 - 변수는 선언 위치에 의해 스코프를 갖게 됨. 
  -> 전역에서 선언된 변수는 전역 스코프를 갖는 전역 변수, 지역에서 선언된 변수는 지역 스코프를 갖는 지역 변수

2. 자바스크립트 스코프의 특징
- 함수 레벨 스코프를 따름
  (함수 레벨 스코프 : 함수 코드 블록 내에서 선언된 변수는 함수 코드 블록 내에서만 유효하고 외부에서는 유효x)
  (let 키워드는 블록레벨스코프를 사용할수있다
    let 키워드를 사용하면 {}안에 있는 블록 내에서만 유효)

3. 전역 스코프
- 전역에 변수를 선언하면 어디서든 참조할 수 있는 전역 스코프를 갖는 변수가됨 
- var 키워드로 선언한 전역변수는 window의 프로퍼티
- 자바 스크립트는 시작점이 없으며 코드가 나타나는 즉시 해석되고 실행됨. -> 전역 변수를 남발하게 하는 문제 야기
- 전역 변수는 변수의 이름이 중복될 수 있고, 의도치 않은 재할당에 의해 상태가 변화되어 코드를 예측하기 어려워 사용 억제해야 함. 

4. 비 블록 레벨 스코프 (Non block-level scope)
if (true){
    var x = 5;
}
console.log(x);
- 코드 블록 내에서 변수가 선언 되었지만, 자바스크립트에서는 블록레벨 스코프를 사용하지 않기 때문에 이는 코드 블록 내에서 선언 되었다고 하더라도
전역 스코프를 갖게됨. 따라서 x는 전역 변수가 됨

5. 함수 레벨 스코프
- 변수명이 중복된 경우, 지역변수를 우선 참조. 
- 함수 역역에서 전역변수를 참조할 수 있기 때문에 전역변수의 값도 변경 가능. 
  내부 함수의 경우, 전역변수와 상위함수에서 선언한 변수에 접근 가능 

6. 렉시컬 스코프 (정적 스코프)
- 함수를 어디서 호출하는지가 아니라 어디에 선언하는지에 따라 결정 

7. 암묵적 전역
- 선언하지 않은 식별자를 스코프 체인을 통해 선언된 변수인지 확인하여 동적으로 프로퍼티를 생성하여 
선언하지 않은 변수가 전역 객체의 프로퍼티가 되어 전역변수로 동작
이때, 선언하지 않은 변수는 전역 객체의 프로퍼티가 된 것이지 변수는 아니기 때문에 변수 호이스팅은 발생하지 않음. 
- 변수가 아니라 프로퍼티인 암묵적 전역은 delete연산자로 삭제 가능 

8. 최소한의 전역변수 사용
- 전역변수 최소화 방법 : 전역변수 객체 하나를 만들어 사용

9. 즉시 실행 함수
- 즉시 실행되고 그후 전역에서 바로 사라져 전역변수를 만들지 않기 때문에 라이브러리에서 자주 사용 

